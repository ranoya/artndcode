<!DOCTYPE html>
<meta charset="utf-8" />
<html>
  <head>
    <title>Fractais</title>
    <link rel="stylesheet" type="text/css" href="textos.css" />
  </head>
  <body
    onresize="ajustaempty()"
    onmouseover="ajustaempty()"
    onclick="javascript:parent.postMessage('n','*')"
  >
    <div id="empty" style="height: 0"></div>
    <div id="wrap">
      <h1>A FASE DOS FRACTAIS</h1>
      <h2>1996 - 2010</h2>

      <p>
        Fractais são imagens produzidas a partir de fórmulas matemáticas
        recursivas, que podem ser aumentadas infinitamente, apresentando ainda
        mais detalhes em cada nível de ampliação. A criação (ou co-criação) de
        um fractal é uma fotografia de um pequeno espaço em um universo de cores
        e formas.
      </p>

      <p>
        Apesar de não serem uma concepção original da computação, os fractais só
        puderam ser materialmente realizados a partir dela. É nesse sentido que
        se incluem junto às demais obras, como uma proto-arte generativa, mas
        mesmo assim uma genuína expressão de uma poética computacional.
      </p>

      <p>
        Tratam-se de peças muito diferentes daquelas produzidas na
        <b>fase dos moirés</b>, caracterizadas como obras estáticas e coloridas,
        e principalmente sem um conceito forte que amparasse sua criação além do
        próprio experimentalismo gráfico. Representam bem uma juventude
        artística, mais interessada no ato criativo e na descoberta de algo
        novo, do que no desenvolvimento de uma linguagem ou expressão mais
        permanente.
      </p>
    </div>
  </body>

  <script>
    let c = "#000000";
    let b = "#FFFFFF";

    $_GET = [];
    (function () {
      corte = window.location.href.toString().indexOf("?");
      if (corte > 0) {
        argumento = window.location.href.toString().substring(corte + 1);
        argumentos = argumento.split("&");
        for (arg in argumentos) {
          let argCorte = argumentos[arg].indexOf("=");
          $_GET[argumentos[arg].substring(0, argCorte)] = argumentos[
            arg
          ].substring(argCorte + 1);
        }
      }
    })();

    if (
      typeof $_GET["fcolor"] != "undefined" &&
      $_GET["fcolor"] != null &&
      $_GET["fcolor"] != ""
    ) {
      c = "#" + $_GET["fcolor"];
      document.querySelector(":root").style.setProperty("--cor-texto", c);
    }

    if (
      typeof $_GET["bgcolor"] != "undefined" &&
      $_GET["bgcolor"] != null &&
      $_GET["bgcolor"] != ""
    ) {
      b = "#" + $_GET["bgcolor"];
      document.querySelector(":root").style.setProperty("--cor-bg", b);
    }

    ajustaempty = function () {
      let bloco = document.getElementById("wrap");
      if (bloco.getBoundingClientRect().height < window.innerHeight - 150) {
        console.log("true");
        let diff =
          (window.innerHeight - 150 - bloco.getBoundingClientRect().height) / 2;
        document.getElementById("empty").style.height = diff + "px";
      }
    };

    ajustaempty();

    let hsl2hex = function (h, s, l) {
      l /= 100;
      const a = (s * Math.min(l, 1 - l)) / 100;
      const f = (n) => {
        const k = (n + h / 30) % 12;
        const color = l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);
        return Math.round(255 * color)
          .toString(16)
          .padStart(2, "0"); // convert to Hex and prefix "0" if needed
      };
      return `#${f(0)}${f(8)}${f(4)}`;
    };

    let h = 0;

    setInterval(function () {
      document
        .querySelector(":root")
        .style.setProperty("--cor-var", hsl2hex(h, 46, 87));

      h++;

      if (h > 360) {
        h = 0;
      }
    }, 10);
  </script>
</html>
